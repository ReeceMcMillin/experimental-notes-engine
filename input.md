# hello world

here's some code

```rust {#rust-example} [some functions in Rust]
fn delimited_by(s: &str, start: &str, end: &str) -> Option<String> {
    let start_pos = s.find(start)?;
    let end_pos = s.find(end)?;
    Some(s[start_pos + start.len()..end_pos].to_string())
}

fn escape_html(s: &str) -> String {
    s.replace('&', "&amp;")
        .replace('<', "&lt;")
        .replace('>', "&gt;")
        .replace('\"', "&quot;")
        .replace('\'', "&#39;")
}
```

and a diagram (with a reference to non-existent @ref{#fake-tag} on line 21)

```tikz {#tikz} [diagram generated by tikz]
\node[state, initial, accepting] (1) {$1$};
\node[state, below left of=1] (2) {$2$};
\node[state, right of=2] (3) {$3$};
\node[state, right of=1] (4) {$4$};

\draw (1) edge[above] node{$b$} (2)
      (1) edge[below, bend right, left=0.3] node{$\epsilon$} (3)
      (2) edge[loop left] node{$a$} (2)
      (2) edge[below] node{$a, b$} (3)
      (3) edge[above, bend right, right=0.3] node{$a$} (1)
      (3) edge[above] node{$\beta$} (4);
```

this is text with a @def{definition: meaning of a word} defined inline. here's another one: @def{term: a word that means something}. defining terms like these creates an object you can reference later on.

you can also reference the same @ref{definition} multiple times, and it'll highlight every instance of the @ref{term} each time. 

you can also define and reference objects through the use of DOM ids like `{#tikz}` above. for example, try referencing @ref{#tikz} or @ref{#rust-example}. if we try to reference something we haven't defined yet like @ref{#less-simple} below, it'll both show up as:
- red text, indicating we missed a reference
- a warning *at compile time!*

![comptime.png](comptime.png)


```tikz {#less-simple} [more intense tikz]
\node[state] (phi) {$\O$};
\node[state, accepting, right of=phi] (1) {$\{1\}$};
\node[state, right of=1] (2) {$\{2\}$};
\node[state, accepting, right of=2] (12) {$\{1, 2\}$};
\node[state, below of=phi] (3) {$\{3\}$};
\node[state, initial, initial where=above, accepting, right of=3] (13) {$\{1, 3\}$};
\node[state, right of=13] (23) {$\{2, 3\}$};
\node[state, accepting, right of=23] (123) {$\{1, 2, 3\}$};

\draw (phi) edge[loop left] node{$a, b$} (phi)
(1) edge[above] node{$a$} (phi)
(1) edge[above] node{$b$} (2)
(2) edge[right] node{$a$} (23)
(2) edge[above] node{$b$} (3)
(12) edge[above, pos=.3, left=2pt] node{$a, b$} (23)
(3) edge[left] node{$b$} (phi)
(3) edge[below] node{$a$} (13)
(13) edge[loop right] node{$a$} (13)
(13) edge[above] node{$b$} (2)
(23) edge[bend left, above] node{$a$} (123)
(23) edge[bend left, below] node{$b$} (3)
(123) edge[loop above] node{$a$} (123)
(123) edge[bend left, below] node{$b$} (23);
```

now that we've defined it, we can reference it like this: @ref{#less-simple}
